{% extends "app/layout.html" %}

{% block content %}

<div class="jumbotron text-center">
    <h3>Add new student</h3>
    <hr/>
</div>

{% if form.errors or user_form.errors%}
<div class="alert alert-danger" role="alert">
    {{ form.errors }}
</div>
<div class="alert alert-danger" role="alert">
    {{ user_form.errors }}
</div>
{% endif %}

<form method="post" class="form-horizontal"
      action="{% url 'add_student' %}"
      enctype="multipart/form-data">
{% csrf_token %}

    {% if user_form.username.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ user_form.username.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_username" class="col-md-4 col-md-offset-1
        control-label">* Email</label>
        <div class="col-md-6">
            <input class="form-control" id="id_username" name="username"
                   placeholder="enter your email here" type="email"
                   value="{{ email }}">
        </div>
    </div>

    {% if user_form.password.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ user_form.password.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_password" class="col-md-4 col-md-offset-1
        control-label">* Password</label>
        <div class="col-md-6">
            <input class="form-control" id="id_password" name="password"
                   placeholder="enter your password" type="password">
        </div>
    </div>

    {% if form.first_name.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ form.first_name.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_first_name" class="col-md-4 col-md-offset-1
        control-label">First name</label>
        <div class="col-md-6">
            {{ form.first_name }}
        </div>
    </div>

    {% if form.middle_name.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ form.middle_name.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_middle_name" class="col-md-4 col-md-offset-1
        control-label">Middle name</label>
        <div class="col-md-6">
            {{ form.middle_name }}
        </div>
    </div>

    {% if form.last_name.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ form.last_name.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_last_name" class="col-md-4 col-md-offset-1
        control-label">Last name</label>
        <div class="col-md-6">
            {{ form.last_name }}
        </div>
    </div>

    {% if form.bdate.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ form.bdate.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_bdate" class="col-md-4 col-md-offset-1
        control-label">Birthday</label>
        <div class="col-md-6">
            <input type="date" class="form-control date-icon" name="bdate"
                   value="{{ student.bdate|date:"Y-m-d" }}">
        </div>
    </div>

    {% if form.stud_id.errors %}
    <div class="form-group has-error text-center">
        <div class="col-md-6 col-md-offset-3"
             style="margin-bottom: -15px;">
            <h4><span class="label label-danger">
            {{ form.stud_id.errors.as_text }}
            </span></h4>
        </div>
    </div>
    {% endif %}
    <div class="form-group">
        <label for="id_stud_id" class="col-md-4 col-md-offset-1
        control-label">Student number</label>
        <div class="col-md-6">
            {{ form.stud_id }}
        </div>
    </div>

    {% if request.user.is_superuser %}
    <div class="form-group">
        <div class="com-md-4 text-center">
            <button type="submit" class="btn btn-primary btn-lg">
                Add student
            </button>
        </div>
    </div>
    {% endif %}

</form>

{% endblock %}